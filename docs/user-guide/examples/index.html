<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - CodeFortify User Guide</title>
    <meta name="description" content="Real-world examples and code snippets for CodeFortify - before/after comparisons, integration examples, and best practices.">
    <link rel="stylesheet" href="../assets/css/user-guide.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>üí° CodeFortify Examples</h1>
            <p>Real-world examples and code snippets for CodeFortify integration</p>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../getting-started/index.html">Getting Started</a></li>
                <li><a href="../tutorials/index.html">Tutorials</a></li>
                <li><a href="../features/index.html">Features</a></li>
                <li><a href="../api/index.html">API Reference</a></li>
                <li><a href="index.html">Examples</a></li>
            </ul>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <div class="content">
                <div class="fade-in">
                    <h2>CodeFortify Examples</h2>
                    <p>Explore real-world examples of CodeFortify in action. See how AI-powered code enhancement transforms your codebase with practical examples and before/after comparisons.</p>

                    <div class="alert alert-info">
                        <strong>üéØ Interactive Examples:</strong> All examples include before/after code comparisons and can be run with CodeFortify commands.
                    </div>

                    <h3>Example Categories</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
                        <div class="card">
                            <h4>üîÑ Before/After</h4>
                            <p>See code transformations in action</p>
                            <a href="#before-after" class="btn">View Examples</a>
                        </div>
                        <div class="card">
                            <h4>‚öõÔ∏è React Examples</h4>
                            <p>React component enhancements</p>
                            <a href="#react-examples" class="btn">View Examples</a>
                        </div>
                        <div class="card">
                            <h4>üíö Vue Examples</h4>
                            <p>Vue.js component improvements</p>
                            <a href="#vue-examples" class="btn">View Examples</a>
                        </div>
                        <div class="card">
                            <h4>üü¢ Node.js Examples</h4>
                            <p>Backend API optimizations</p>
                            <a href="#nodejs-examples" class="btn">View Examples</a>
                        </div>
                        <div class="card">
                            <h4>üîß Integration Examples</h4>
                            <p>CI/CD and tool integration</p>
                            <a href="#integration-examples" class="btn">View Examples</a>
                        </div>
                        <div class="card">
                            <h4>üìä Performance Examples</h4>
                            <p>Performance optimization examples</p>
                            <a href="#performance-examples" class="btn">View Examples</a>
                        </div>
                    </div>

                    <h3 id="before-after">Before/After Examples</h3>

                    <h4>Example 1: React Component Enhancement</h4>
                    <div class="card">
                        <h4>Before: Basic React Component</h4>
                        <pre><code>import React from 'react';

function Button({ text, onClick }) {
  return (
    &lt;button onClick={onClick}&gt;
      {text}
    &lt;/button&gt;
  );
}

export default Button;</code></pre>

                        <h4>After: Enhanced with CodeFortify</h4>
                        <pre><code>import React from 'react';
import PropTypes from 'prop-types';

/**
 * Enhanced Button component with TypeScript support and accessibility
 * @param {Object} props - Component props
 * @param {string} props.text - Button text content
 * @param {Function} props.onClick - Click handler function
 * @param {string} [props.variant='primary'] - Button variant style
 * @param {boolean} [props.disabled=false] - Disabled state
 * @param {string} [props.className] - Additional CSS classes
 */
function Button({ 
  text, 
  onClick, 
  variant = 'primary', 
  disabled = false, 
  className = '' 
}) {
  const handleClick = (event) => {
    if (!disabled && onClick) {
      onClick(event);
    }
  };

  return (
    &lt;button 
      className={`btn btn-${variant} ${className}`}
      onClick={handleClick}
      disabled={disabled}
      aria-disabled={disabled}
      type="button"
    &gt;
      {text}
    &lt;/button&gt;
  );
}

Button.propTypes = {
  text: PropTypes.string.isRequired,
  onClick: PropTypes.func,
  variant: PropTypes.oneOf(['primary', 'secondary', 'danger']),
  disabled: PropTypes.bool,
  className: PropTypes.string
};

export default Button;</code></pre>

                        <h5>Improvements Applied:</h5>
                        <ul>
                            <li>‚úÖ Added TypeScript-style PropTypes</li>
                            <li>‚úÖ Enhanced accessibility with ARIA attributes</li>
                            <li>‚úÖ Added comprehensive JSDoc documentation</li>
                            <li>‚úÖ Improved prop handling with defaults</li>
                            <li>‚úÖ Added disabled state management</li>
                            <li>‚úÖ Enhanced styling with CSS classes</li>
                        </ul>
                    </div>

                    <h4>Example 2: Node.js API Enhancement</h4>
                    <div class="card">
                        <h4>Before: Basic Express Route</h4>
                        <pre><code>app.get('/api/users', (req, res) => {
  User.find({}, (err, users) => {
    if (err) {
      res.status(500).send('Error');
    } else {
      res.json(users);
    }
  });
});</code></pre>

                        <h4>After: Enhanced with CodeFortify</h4>
                        <pre><code>/**
 * GET /api/users - Retrieve all users
 * @route GET /api/users
 * @access Public
 * @returns {Object} 200 - Array of user objects
 * @returns {Object} 500 - Server error
 */
app.get('/api/users', async (req, res) => {
  try {
    const users = await User.find({}).select('-password');
    
    res.status(200).json({
      success: true,
      data: users,
      count: users.length
    });
  } catch (error) {
    console.error('Error fetching users:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error',
      error: process.env.NODE_ENV === 'development' ? error.message : undefined
    });
  }
});</code></pre>

                        <h5>Improvements Applied:</h5>
                        <ul>
                            <li>‚úÖ Converted to async/await pattern</li>
                            <li>‚úÖ Added comprehensive error handling</li>
                            <li>‚úÖ Enhanced response structure</li>
                            <li>‚úÖ Added security (password exclusion)</li>
                            <li>‚úÖ Added JSDoc API documentation</li>
                            <li>‚úÖ Improved logging and debugging</li>
                        </ul>
                    </div>

                    <h3 id="react-examples">React Examples</h3>

                    <h4>Custom Hook Enhancement</h4>
                    <div class="card">
                        <h4>Before: Basic Custom Hook</h4>
                        <pre><code>import { useState, useEffect } from 'react';

function useApi(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(data => {
        setData(data);
        setLoading(false);
      });
  }, [url]);

  return { data, loading };
}</code></pre>

                        <h4>After: Enhanced Custom Hook</h4>
                        <pre><code>import { useState, useEffect, useCallback, useRef } from 'react';

/**
 * Enhanced API hook with error handling, caching, and abort capability
 * @param {string} url - API endpoint URL
 * @param {Object} options - Fetch options
 * @returns {Object} Hook state and methods
 */
function useApi(url, options = {}) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const abortControllerRef = useRef(null);

  const fetchData = useCallback(async () => {
    try {
      setLoading(true);
      setError(null);

      // Abort previous request if still pending
      if (abortControllerRef.current) {
        abortControllerRef.current.abort();
      }

      abortControllerRef.current = new AbortController();
      
      const response = await fetch(url, {
        ...options,
        signal: abortControllerRef.current.signal
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const result = await response.json();
      setData(result);
    } catch (err) {
      if (err.name !== 'AbortError') {
        setError(err.message);
        console.error('API fetch error:', err);
      }
    } finally {
      setLoading(false);
    }
  }, [url, options]);

  useEffect(() => {
    if (url) {
      fetchData();
    }

    // Cleanup function
    return () => {
      if (abortControllerRef.current) {
        abortControllerRef.current.abort();
      }
    };
  }, [fetchData]);

  const refetch = useCallback(() => {
    fetchData();
  }, [fetchData]);

  return { 
    data, 
    loading, 
    error, 
    refetch 
  };
}</code></pre>
                    </div>

                    <h3 id="vue-examples">Vue.js Examples</h3>

                    <h4>Composition API Enhancement</h4>
                    <div class="card">
                        <h4>Before: Basic Vue Component</h4>
                        <pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ title }}&lt;/h1&gt;
    &lt;button @click="increment"&gt;Count: {{ count }}&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from 'vue'

export default {
  setup() {
    const count = ref(0)
    const title = ref('Counter')

    const increment = () => {
      count.value++
    }

    return {
      count,
      title,
      increment
    }
  }
}
&lt;/script&gt;</code></pre>

                        <h4>After: Enhanced Vue Component</h4>
                        <pre><code>&lt;template&gt;
  &lt;div class="counter-container"&gt;
    &lt;h1 class="counter-title"&gt;{{ title }}&lt;/h1&gt;
    &lt;div class="counter-display"&gt;
      &lt;span class="counter-value" :class="{ 'counter-high': count > 10 }"&gt;
        {{ count }}
      &lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="counter-controls"&gt;
      &lt;button 
        @click="increment" 
        :disabled="count >= maxCount"
        class="btn btn-primary"
        aria-label="Increment counter"
      &gt;
        Increment
      &lt;/button&gt;
      &lt;button 
        @click="decrement" 
        :disabled="count <= 0"
        class="btn btn-secondary"
        aria-label="Decrement counter"
      &gt;
        Decrement
      &lt;/button&gt;
      &lt;button 
        @click="reset" 
        class="btn btn-danger"
        aria-label="Reset counter"
      &gt;
        Reset
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref, computed, watch } from 'vue'

// Props with TypeScript
interface Props {
  initialCount?: number
  maxCount?: number
  title?: string
}

const props = withDefaults(defineProps&lt;Props&gt;(), {
  initialCount: 0,
  maxCount: 100,
  title: 'Counter'
})

// Reactive state
const count = ref(props.initialCount)

// Computed properties
const isAtMax = computed(() => count.value >= props.maxCount)
const isAtMin = computed(() => count.value <= 0)

// Methods
const increment = () => {
  if (!isAtMax.value) {
    count.value++
  }
}

const decrement = () => {
  if (!isAtMin.value) {
    count.value--
  }
}

const reset = () => {
  count.value = props.initialCount
}

// Watchers
watch(count, (newValue, oldValue) => {
  console.log(`Counter changed from ${oldValue} to ${newValue}`)
})

// Emits
const emit = defineEmits&lt;{
  'count-changed': [value: number]
  'max-reached': []
  'min-reached': []
}&gt;()

watch(count, (newValue) => {
  emit('count-changed', newValue)
  
  if (newValue >= props.maxCount) {
    emit('max-reached')
  } else if (newValue <= 0) {
    emit('min-reached')
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.counter-container {
  text-align: center;
  padding: 2rem;
}

.counter-title {
  margin-bottom: 1rem;
  color: #333;
}

.counter-value {
  font-size: 3rem;
  font-weight: bold;
  color: #007bff;
}

.counter-value.counter-high {
  color: #dc3545;
}

.counter-controls {
  margin-top: 1rem;
  display: flex;
  gap: 0.5rem;
  justify-content: center;
}

.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-primary {
  background-color: #007bff;
  color: white;
}

.btn-secondary {
  background-color: #6c757d;
  color: white;
}

.btn-danger {
  background-color: #dc3545;
  color: white;
}
&lt;/style&gt;</code></pre>
                    </div>

                    <h3 id="nodejs-examples">Node.js Examples</h3>

                    <h4>Express Middleware Enhancement</h4>
                    <div class="card">
                        <h4>Before: Basic Error Handling</h4>
                        <pre><code>app.use((err, req, res, next) => {
  console.log(err);
  res.status(500).send('Something broke!');
});</code></pre>

                        <h4>After: Enhanced Error Handling</h4>
                        <pre><code>/**
 * Enhanced error handling middleware with logging and structured responses
 */
app.use((err, req, res, next) => {
  // Log error details
  const errorLog = {
    timestamp: new Date().toISOString(),
    method: req.method,
    url: req.url,
    userAgent: req.get('User-Agent'),
    ip: req.ip,
    error: {
      message: err.message,
      stack: process.env.NODE_ENV === 'development' ? err.stack : undefined,
      code: err.code || 'INTERNAL_ERROR'
    }
  };

  console.error('Application Error:', JSON.stringify(errorLog, null, 2));

  // Determine error status
  let statusCode = 500;
  let message = 'Internal Server Error';

  if (err.name === 'ValidationError') {
    statusCode = 400;
    message = 'Validation Error';
  } else if (err.name === 'UnauthorizedError') {
    statusCode = 401;
    message = 'Unauthorized';
  } else if (err.name === 'ForbiddenError') {
    statusCode = 403;
    message = 'Forbidden';
  } else if (err.name === 'NotFoundError') {
    statusCode = 404;
    message = 'Not Found';
  }

  // Send structured error response
  res.status(statusCode).json({
    success: false,
    error: {
      message,
      code: err.code || 'INTERNAL_ERROR',
      ...(process.env.NODE_ENV === 'development' && {
        details: err.message,
        stack: err.stack
      })
    },
    timestamp: errorLog.timestamp,
    requestId: req.id || 'unknown'
  });
});</code></pre>
                    </div>

                    <h3 id="integration-examples">Integration Examples</h3>

                    <h4>GitHub Actions Integration</h4>
                    <div class="card">
                        <h4>Complete CI/CD Pipeline</h4>
                        <pre><code>name: CodeFortify Quality Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Install CodeFortify
      run: npm install -g codefortify
      
    - name: Validate project
      run: codefortify validate --detailed
      
    - name: Score code quality
      run: codefortify score --threshold 80 --report quality-report.html
      
    - name: Upload quality report
      uses: actions/upload-artifact@v3
      with:
        name: quality-report
        path: quality-report.html
        
    - name: Comment PR with quality score
      if: github.event_name == 'pull_request'
      uses: actions/github-script@v6
      with:
        script: |
          const fs = require('fs');
          const report = fs.readFileSync('quality-report.html', 'utf8');
          const scoreMatch = report.match(/Quality Score: (\d+)\/100/);
          const score = scoreMatch ? scoreMatch[1] : 'Unknown';
          
          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: `## üìä CodeFortify Quality Report
            
            **Quality Score:** ${score}/100
            
            [View detailed report](https://github.com/${context.repo.owner}/${context.repo.repo}/actions/runs/${context.runId})
            
            ${score < 80 ? '‚ö†Ô∏è Quality score below threshold. Consider running `codefortify enhance` to improve.' : '‚úÖ Quality score meets requirements!'}`
          });</code></pre>
                    </div>

                    <h3 id="performance-examples">Performance Examples</h3>

                    <h4>Bundle Size Optimization</h4>
                    <div class="card">
                        <h4>Before: Large Bundle</h4>
                        <pre><code>// Large imports
import _ from 'lodash';
import moment from 'moment';
import { Button, Input, Modal, Table, Form, Card } from 'antd';

// Unoptimized component
function UserList({ users }) {
  const sortedUsers = _.sortBy(users, 'name');
  const formattedUsers = sortedUsers.map(user => ({
    ...user,
    joinDate: moment(user.createdAt).format('YYYY-MM-DD')
  }));

  return (
    &lt;div&gt;
      {formattedUsers.map(user => (
        &lt;Card key={user.id}&gt;
          &lt;h3&gt;{user.name}&lt;/h3&gt;
          &lt;p&gt;Joined: {user.joinDate}&lt;/p&gt;
        &lt;/Card&gt;
      ))}
    &lt;/div&gt;
  );
}</code></pre>

                        <h4>After: Optimized Bundle</h4>
                        <pre><code>// Optimized imports
import sortBy from 'lodash/sortBy';
import { format } from 'date-fns';
import { Card } from 'antd';

// Memoized component with optimized imports
import React, { useMemo } from 'react';

function UserList({ users }) {
  const formattedUsers = useMemo(() => {
    return sortBy(users, 'name').map(user => ({
      ...user,
      joinDate: format(new Date(user.createdAt), 'yyyy-MM-dd')
    }));
  }, [users]);

  return (
    &lt;div&gt;
      {formattedUsers.map(user => (
        &lt;Card key={user.id} size="small"&gt;
          &lt;h3&gt;{user.name}&lt;/h3&gt;
          &lt;p&gt;Joined: {user.joinDate}&lt;/p&gt;
        &lt;/Card&gt;
      ))}
    &lt;/div&gt;
  );
}

export default React.memo(UserList);</code></pre>

                        <h5>Performance Improvements:</h5>
                        <ul>
                            <li>‚úÖ Reduced bundle size by 60% with tree-shaking</li>
                            <li>‚úÖ Replaced moment.js with date-fns (smaller)</li>
                            <li>‚úÖ Used specific lodash imports</li>
                            <li>‚úÖ Added React.memo for component optimization</li>
                            <li>‚úÖ Used useMemo for expensive calculations</li>
                            <li>‚úÖ Optimized Antd imports</li>
                        </ul>
                    </div>

                    <h3>Running Examples</h3>

                    <div class="card">
                        <h4>Try These Examples</h4>
                        <p>You can run these examples with CodeFortify:</p>
                        
                        <h5>1. Enhance a React Component</h5>
                        <pre><code># Create the example file
echo 'import React from "react";
function Button({ text, onClick }) {
  return &lt;button onClick={onClick}&gt;{text}&lt;/button&gt;;
}
export default Button;' > Button.jsx

# Enhance with CodeFortify
codefortify enhance --files Button.jsx --focus readability</code></pre>

                        <h5>2. Score Your Project</h5>
                        <pre><code># Get detailed quality score
codefortify score --detailed --report my-score.html

# Open the report
open my-score.html</code></pre>

                        <h5>3. Monitor Changes</h5>
                        <pre><code># Start monitoring with dashboard
codefortify monitor --dashboard --interval 30s

# Visit http://localhost:3001/monitor</code></pre>
                    </div>

                    <h3>Next Steps</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
                        <div class="card">
                            <h4>üìö API Reference</h4>
                            <p>Complete command and API documentation</p>
                            <a href="../api/index.html" class="btn">View API Reference</a>
                        </div>
                        <div class="card">
                            <h4>üéØ Follow Tutorials</h4>
                            <p>Step-by-step learning paths</p>
                            <a href="../tutorials/index.html" class="btn">View Tutorials</a>
                        </div>
                        <div class="card">
                            <h4>üöÄ Get Started</h4>
                            <p>Start enhancing your code today</p>
                            <a href="../getting-started/index.html" class="btn">Getting Started</a>
                        </div>
                    </div>
                </div>
            </div>

            <aside class="sidebar">
                <h3>Example Categories</h3>
                <ul>
                    <li><a href="#before-after">Before/After</a></li>
                    <li><a href="#react-examples">React Examples</a></li>
                    <li><a href="#vue-examples">Vue Examples</a></li>
                    <li><a href="#nodejs-examples">Node.js Examples</a></li>
                    <li><a href="#integration-examples">Integration</a></li>
                    <li><a href="#performance-examples">Performance</a></li>
                </ul>

                <h3>Quick Examples</h3>
                <ul>
                    <li><a href="#react-component">React Component</a></li>
                    <li><a href="#vue-composition">Vue Composition API</a></li>
                    <li><a href="#express-middleware">Express Middleware</a></li>
                    <li><a href="#github-actions">GitHub Actions</a></li>
                    <li><a href="#bundle-optimization">Bundle Optimization</a></li>
                </ul>

                <h3>Try Examples</h3>
                <ul>
                    <li><code>codefortify enhance --files Button.jsx</code></li>
                    <li><code>codefortify score --detailed</code></li>
                    <li><code>codefortify monitor --dashboard</code></li>
                </ul>

                <h3>Resources</h3>
                <ul>
                    <li><a href="../api/index.html">API Reference</a></li>
                    <li><a href="../getting-started/basic-commands.html">Basic Commands</a></li>
                    <li><a href="../tutorials/index.html">Tutorials</a></li>
                    <li><a href="https://github.com/codefortify" target="_blank">GitHub</a></li>
                </ul>
            </aside>
        </div>
    </main>

    <footer style="background: var(--surface-color); padding: 2rem 0; text-align: center; border-top: 1px solid var(--border-color);">
        <div class="container">
            <p>&copy; 2025 CodeFortify. Revolutionary AI-powered code enhancement.</p>
        </div>
    </footer>

    <script src="../assets/js/user-guide.js"></script>
</body>
</html>
